<header class="header">
  <div class="header-container">

    <div class="top-row">
      <a routerLink="/products" class="brand">
        ðŸ›’ <span>Comparator</span>
      </a>

      <div class="actions">
        <button
          class="btn btn-ghost btn-icon"
          type="button"
          (click)="goToList()"
          title="ListÄƒ de cumpÄƒrÄƒturi"
          aria-label="ListÄƒ de cumpÄƒrÄƒturi"
        >
          ðŸ“‹
        </button>

        <div class="user-menu" tabindex="0">
          <button class="btn btn-ghost btn-icon user-trigger" type="button" aria-label="Cont">
            <span class="icon">ðŸ‘¤</span>
          </button>

          <div class="user-dropdown">
            <ng-container *ngIf="!auth.isLoggedIn(); else loggedInMenu">
              <button class="drop-item" type="button" (click)="goToLogin()">IntrÄƒ Ã®n cont</button>
              <button class="drop-item" type="button" (click)="goToRegister()">Cont nou</button>
            </ng-container>

            <ng-template #loggedInMenu>
              <div class="drop-label">
                Conectat ca
                <div class="drop-user">{{ auth.getUserNameOrEmail() }}</div>
              </div>

              <a
                class="drop-item link"
                routerLink="/account"
                (click)="closeUserMenu()"
              >
                Contul meu
              </a>

              <button class="drop-item danger" type="button" (click)="logout()">Logout</button>
            </ng-template>
          </div>
        </div>
      </div>

    </div>

    <div class="header-filters">
      <div class="search-wrapper">
        <span class="search-icon">ðŸ”Ž</span>
        <input
          #searchBox
          class="search-input"
          type="text"
          placeholder="CautÄƒ produse dupÄƒ nume sau brand..."
          (input)="onSearch(searchBox.value)"
        />
      </div>

      <div class="select-wrap">
        <select
          class="store-select"
          #storeSelect
          (change)="onStoreChange(storeSelect.value)"
        >
          <option value="">Toate magazinele</option>
          <option value="Lidl">Lidl</option>
          <option value="Profi">Profi</option>
          <option value="Kaufland">Kaufland</option>
        </select>
      </div>
    </div>

  </div>
</header>
